n, m = map(int ,input().split())
board = []
for _ in range(n):
    board.append(list(map(int, input().split())))

tet=[[[0,0],[0,1],[0,2],[0,3]],
    [[0,0],[1,0],[2,0],[3,0]],
    [[0,0],[0,1],[1,0],[1,1]],
    [[0,0],[0,1],[0,2],[1,0]],
    [[0,0],[0,1],[0,2],[1,2]],
    [[0,0],[1,0],[1,1],[1,2]],
    [[0,2],[1,2],[1,1],[1,0]],
    [[0,1],[0,0],[1,0],[2,0]],
    [[0,0],[0,1],[1,1],[2,1]],
    [[0,0],[1,0],[2,0],[2,1]],
    [[0,1],[1,1],[2,1],[2,0]],
    [[0,0],[0,1],[0,2],[1,1]],
    [[0,1],[1,0],[1,1],[1,2]],
    [[0,0],[1,0],[1,1],[2,0]],
    [[1,0],[0,1],[1,1],[2,1]],
    [[0,1],[1,1],[1,0],[2,0]],
    [[0,0],[1,0],[1,1],[2,1]],
    [[0,1],[0,2],[1,1],[1,0]],
    [[0,0],[0,1],[1,1],[1,2]]]

ans = 0

for x in range(n):
    for y in range(m):
        for figure in tet:
            sums = 0
            flag = False
            for i in range(4):
                nx = x + figure[i][0]
                ny = y + figure[i][1]
                if -1 < nx < n and -1 < ny < m:
                    sums += board[nx][ny]
                else:
                    flag = True
                    break
            if not flag:
                ans = max(ans, sums)

print(ans)